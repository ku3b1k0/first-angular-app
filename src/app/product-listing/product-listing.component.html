<div class="container mx-auto px-4 py-8">
  <!-- Header & Filters -->
  <div
    class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4"
  >
    <div>
      <h1 class="text-3xl font-bold text-gray-900 mb-1">Shop Our Collection</h1>
      <p class="text-gray-500">Discover amazing products just for you</p>
    </div>
    <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto">
      <div class="relative w-full">
        <select
          class="appearance-none w-full px-4 py-2.5 pr-8 border border-gray-200 rounded-xl bg-white text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"
        >
          <option>Sort by</option>
          <option>Price: Low to High</option>
          <option>Price: High to Low</option>
          <option>Most Popular</option>
          <option>Newest Arrivals</option>
        </select>
        <div
          class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"
        >
          <svg
            class="w-5 h-5 text-gray-400"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"
            ></path>
          </svg>
        </div>
      </div>
      <div class="relative w-full">
        <select
          class="appearance-none w-full px-4 py-2.5 pr-8 border border-gray-200 rounded-xl bg-white text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"
        >
          <option>All Categories</option>
          <option>Electronics</option>
          <option>Clothing</option>
          <option>Home & Garden</option>
          <option>Beauty</option>
        </select>
        <div
          class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"
        >
          <svg
            class="w-5 h-5 text-gray-400"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"
            ></path>
          </svg>
        </div>
      </div>
    </div>
  </div>

  <!-- Product Grid -->
  <div
    class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"
  >
    @for (product of products; track product.id) {
      <div
        class="group bg-white rounded-xl shadow-sm hover:shadow-md border border-gray-100 overflow-hidden transition-all duration-300 hover:-translate-y-1"
      >
        <!-- Product Image -->
        <div class="relative aspect-square bg-gray-50">
          <img
            [src]="product.image"
            [alt]="product.name"
            class="w-full h-full object-cover transition-opacity group-hover:opacity-90"
          />
          <!-- Badges -->
          <div class="absolute top-3 left-3 flex flex-col gap-2">
            @if (product.isNew) {
              <span
                class="bg-green-600 text-white text-xs font-medium px-2.5 py-1 rounded-full"
              >
                New Arrival
              </span>
            }
            @if (product.originalPrice) {
              <span
                class="bg-red-600 text-white text-xs font-medium px-2.5 py-1 rounded-full"
              >
                -{{ product.price }}
              </span>
            }
          </div>
          @if (!product.inStock) {
            <div
              class="absolute inset-0 bg-white bg-opacity-70 flex items-center justify-center"
            >
              <span
                class="bg-gray-800 text-white px-3 py-1.5 rounded-md text-sm font-medium"
                >Out of Stock</span
              >
            </div>
          }
        </div>

        <!-- Product Details -->
        <div class="p-4">
          <div class="flex justify-between items-start mb-1">
            <h3 class="font-semibold text-gray-900 text-lg line-clamp-1">
              {{ product.name }}
            </h3>
            @if (product.originalPrice) {
              <span class="text-gray-400 text-sm line-through ml-2"
                >${{ product.originalPrice.toFixed(2) }}</span
              >
            }
          </div>

          <div class="flex items-center mb-2">
            <div class="flex text-amber-400">
              @for (star of [1, 2, 3, 4, 5]; track star) {
                <svg
                  [class]="
                    star <= product.rating
                      ? 'w-4 h-4 fill-current'
                      : 'w-4 h-4 fill-gray-300'
                  "
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.75.75 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"
                  />
                </svg>
              }
            </div>
            <span class="text-gray-500 text-xs ml-1"
              >({{ product.reviewCount || 0 }})</span
            >
          </div>

          <p class="text-gray-600 text-sm mb-4 line-clamp-2">
            {{ product.description }}
          </p>

          <div class="flex justify-between items-center">
            <div>
              <span class="font-bold text-gray-900 text-lg"
                >${{ product.price.toFixed(2) }}</span
              >
            </div>
            <button
              class="flex items-center justify-center bg-gray-900 hover:bg-gray-800 text-white px-4 py-2 rounded-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed"
              [disabled]="!product.inStock"
            >
              <svg
                class="w-4 h-4 mr-2"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 6v6m0 0v6m0-6h6m-6 0H6"
                ></path>
              </svg>
              {{ product.inStock ? "Add to Cart" : "Sold Out" }}
            </button>
          </div>
        </div>
      </div>
    }
  </div>

  <!-- Pagination -->
  <div class="flex justify-center mt-12">
    <nav class="flex items-center gap-1">
      <button
        class="p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50"
      >
        <svg
          class="w-5 h-5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15 19l-7-7 7-7"
          ></path>
        </svg>
      </button>
      @for (page of [1, 2, 3, 4]; track page) {
        <button
          [class]="
            page === 1
              ? 'px-4 py-2 rounded-lg bg-gray-900 text-white font-medium'
              : 'px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 font-medium'
          "
        >
          {{ page }}
        </button>
      }
      <button
        class="p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50"
      >
        <svg
          class="w-5 h-5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 5l7 7-7 7"
          ></path>
        </svg>
      </button>
    </nav>
  </div>
</div>
